# Stable Rate Patch

## Diffs

All the diffs between the etherscan downloaded and modified contracts can be found [HERE](./diffs). These include both the source code diffs and the storage layout diffs. The storage layout diff files end with `layout_diffs`.

All the files downloaded from etherscan are stored [HERE](./etherscan)

Various diffs have also been created among all the different aave v2 stable debt tokens on ethereum against a reference, which can be found over [HERE](./diffs/v2EthStableDebtAll).

The diffs among different aave v3 stable debt tokens have also been added over here: [v3PolArbStableDebtToken](diffs/v3PolArbStableDebtToken.md), [v3PolAvaStableDebtToken](diffs/v3PolAvaStableDebtToken.md), [v3PolOptStableDebtToken](diffs/v3PolOptStableDebtToken.md)

The diffs among different aave v2 pool configurators can be found here: [v2EthPolPoolConfigurator](diffs/v2EthPolPoolConfigurator.md), [v2PolAvaPoolConfigurator](diffs/v2PolAvaPoolConfigurator.md), [v2EthAvaPoolConfigurator](diffs/v2EthAvaPoolConfigurator.md)

### Scripts for diffs:

- To generate all the source code diffs run: `make diff-contracts`.

- To generate all the storage layout code diffs run: `make storage-diff`.

- To download the source code from etherscan run: `download-all-etherscan`. This should be run once, when initializing the project.

- To validate different impl addresses of aave v3 stable debt tokens run: `npm run get-v3-stable-debt-impl`.

- The diffs between different aave v2 stable debt tokens on ethereum can be generated by running this command: `npm run generate-v2-eth-stable-debt-diff`.
